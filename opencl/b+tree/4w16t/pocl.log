** Final POCL_DEBUG flags: 100000 
WG size of kernel 1 = 64 WG size of kernel 2 = 64 
Input File: /data/eda/work/yangzx/ventus/gpu-rodinia/opencl/b+tree/../../data/b+tree/mil.txt 
Command File: /data/eda/work/yangzx/ventus/gpu-rodinia/opencl/b+tree/../../data/b+tree/command.txt 
Command Buffer: 
j 6 3
k 10


Getting input from file file...
Transforming data to a GPU suitable structure...
Tree transformation took 0.000282
Waiting for command
> 
******command: j count=6, rSize=6 
knodes_elem=322, knodes_unit_mem=532, knodes_mem=171304
Platform: The pocl project
[INFO]: [HW DRIVER] in [FILE] ventus.cpp,[LINE]25,[fn] vt_dev_open: vt_dev_open : hello world from ventus.cpp
spike device initialize: allocating local memory: to allocate at 0x70000000 with 268435456 bytes 
spike device initialize: allocating pc source memory: to allocate at 0x80000000 with 268435456 bytes 
Device num: 1
Creating GPU Context
Device: Ventus GPGPU device
### options: -DPOCL_DEVICE_ADDRESS_BITS=32 -D__USE_CLANG_OPENCL_C_H -xcl -Dinline= -I. -cl-kernel-arg-info -I./../ -DDEFAULT_ORDER_2=64 -D__ENDIAN_LITTLE__=1 -DCL_DEVICE_MAX_GLOBAL_VARIABLE_SIZE=0 -D__OPENCL_VERSION__=200 -cl-std=CL2.0 -D__OPENCL_C_VERSION__=200 -Dcl_khr_fp64=1 -D__opencl_c_generic_address_space=1 -D__opencl_c_named_address_space_builtins=1 -cl-ext=-all,+cl_khr_fp64,+__opencl_c_generic_address_space,+__opencl_c_named_address_space_builtins -fno-builtin -triple=riscv32 -target-cpu ventus-gpgpu user_options: -I./../ -DDEFAULT_ORDER_2=64
### Triple: riscv32, CPU: ventus-gpgpu
Warning: the memory at  [0x90000000, 0x90029D27] has been realigned
to the 4 KiB page size: [0x90000000, 0x90029FFF]
Warning: the memory at  [0x9002A000, 0x9002A02F] has been realigned
to the 4 KiB page size: [0x9002A000, 0x9002AFFF]
Warning: the memory at  [0x9002B000, 0x9002B02F] has been realigned
to the 4 KiB page size: [0x9002B000, 0x9002BFFF]
Warning: the memory at  [0x9002C000, 0x9002C02F] has been realigned
to the 4 KiB page size: [0x9002C000, 0x9002CFFF]
Warning: the memory at  [0x9002D000, 0x9002D02F] has been realigned
to the 4 KiB page size: [0x9002D000, 0x9002DFFF]
Warning: the memory at  [0x9002E000, 0x9002E017] has been realigned
to the 4 KiB page size: [0x9002E000, 0x9002EFFF]
Warning: the memory at  [0x9002F000, 0x9002F017] has been realigned
to the 4 KiB page size: [0x9002F000, 0x9002FFFF]
Warning: the memory at  [0x90030000, 0x90030017] has been realigned
to the 4 KiB page size: [0x90030000, 0x90030FFF]
Warning: the memory at  [0x90031000, 0x90031017] has been realigned
to the 4 KiB page size: [0x90031000, 0x90031FFF]
[2024-03-04 09:35:58.040351265] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 632:
  *** INFO ***  |    VENTUS |  Allocating kernel arg buffer entry:
Warning: the memory at  [0x90032000, 0x90032033] has been realigned
to the 4 KiB page size: [0x90032000, 0x90032FFF]
[2024-03-04 09:35:58.071573887] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 686:
  *** INFO ***  |    VENTUS |  Kernel entry of "findRangeK" is : "0x800000b8"
[2024-03-04 09:35:58.088417539] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 749:
  *** INFO ***  |    VENTUS |  Vmem file has been written to object.vmem
[2024-03-04 09:35:58.088722816] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 793:
  *** INFO ***  |    VENTUS |  Preparing private memory of ventus:
[2024-03-04 09:35:58.088733406] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 828:
  *** INFO ***  |    VENTUS |  Allocating metadata space:
Warning: the memory at  [0x901B3000, 0x901B303F] has been realigned
to the 4 KiB page size: [0x901B3000, 0x901B3FFF]
[2024-03-04 09:35:58.088741231] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 838:
  *** INFO ***  |    VENTUS |  kernel metadata has been written to 0x901b3000
-----OpenCL Compiler Output-----
--------------------------------
to allocate at 0x90000000 with 172032 bytes 
to copy to 0x90000000 with 171304 bytes
to allocate at 0x9002a000 with 4096 bytes 
to copy to 0x9002a000 with 48 bytes
to allocate at 0x9002b000 with 4096 bytes 
to copy to 0x9002b000 with 48 bytes
to allocate at 0x9002c000 with 4096 bytes 
to copy to 0x9002c000 with 48 bytes
to allocate at 0x9002d000 with 4096 bytes 
to copy to 0x9002d000 with 48 bytes
to allocate at 0x9002e000 with 4096 bytes 
to copy to 0x9002e000 with 24 bytes
to allocate at 0x9002f000 with 4096 bytes 
to copy to 0x9002f000 with 24 bytes
to copy to 0x9002f000 with 24 bytes
to allocate at 0x90030000 with 4096 bytes 
to copy to 0x90030000 with 24 bytes
# of blocks = 6, # of threads/block = 64 (ensure that device can handle)
to allocate at 0x90031000 with 4096 bytes 
notice that ventus hasn't support local buffer as argument yet.
to allocate at 0x90032000 with 4096 bytes 
to copy to 0x90032000 with 52 bytes
to allocate at 0x90033000 with 1572864 bytes 
to allocate at 0x901b3000 with 4096 bytes 
to copy to 0x901b3000 with 64 bytes
arg gpgpu is numw:4,numt:16,numwg:6,kernelx:6,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90033000,knlbase:0x901b3000,currwgid:0
vaddr mem scope is -m0x70000000:0x901b4000
src file is object.riscv, run log is written to object.riscv.log
spike -l --log-commits -p24 --isa rv32gcv_zfh --pc=0x80000000 -m0x70000000:0x901b4000 --varch vlen:512,elen:32 --gpgpuarch numw:4,numt:16,numwg:6,kernelx:6,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90033000,knlbase:0x901b3000,currwgid:0 --log=object.riscv.log object.riscv 
Log file object.riscv.log renamed successfully to findRangeK_0.log.
to copy from 0x90031000 with 24 bytes
to copy from 0x90030000 with 24 bytes
Time spent in different stages of GPU_CUDA KERNEL:
Init: 378.042999
MemAlloc: 0.011000
HtoD: 0.128590
Exec: 114.227798
DtoH: 0.009756
Close: 0.206000
Total: 492.792999
> > > > > > 
 ******command: k count=10 
records_elem=10000, records_unit_mem=4, records_mem=40000
knodes_elem=322, knodes_unit_mem=532, knodes_mem=171304
Platform: The pocl project
Device num: 1
Creating GPU Context
Device: Ventus GPGPU device
### options: -DPOCL_DEVICE_ADDRESS_BITS=32 -D__USE_CLANG_OPENCL_C_H -xcl -Dinline= -I. -cl-kernel-arg-info -I./../ -DDEFAULT_ORDER=64 -D__ENDIAN_LITTLE__=1 -DCL_DEVICE_MAX_GLOBAL_VARIABLE_SIZE=0 -D__OPENCL_VERSION__=200 -cl-std=CL2.0 -D__OPENCL_C_VERSION__=200 -Dcl_khr_fp64=1 -D__opencl_c_generic_address_space=1 -D__opencl_c_named_address_space_builtins=1 -cl-ext=-all,+cl_khr_fp64,+__opencl_c_generic_address_space,+__opencl_c_named_address_space_builtins -fno-builtin -triple=riscv32 -target-cpu ventus-gpgpu user_options: -I./../ -DDEFAULT_ORDER=64
### Triple: riscv32, CPU: ventus-gpgpu
Warning: the memory at  [0x90000000, 0x90009C3F] has been realigned
to the 4 KiB page size: [0x90000000, 0x90009FFF]
Warning: the memory at  [0x9000A000, 0x90033D27] has been realigned
to the 4 KiB page size: [0x9000A000, 0x90033FFF]
Warning: the memory at  [0x90034000, 0x9003404F] has been realigned
to the 4 KiB page size: [0x90034000, 0x90034FFF]
Warning: the memory at  [0x90035000, 0x9003504F] has been realigned
to the 4 KiB page size: [0x90035000, 0x90035FFF]
Warning: the memory at  [0x90036000, 0x9003604F] has been realigned
to the 4 KiB page size: [0x90036000, 0x90036FFF]
Warning: the memory at  [0x90037000, 0x90037027] has been realigned
to the 4 KiB page size: [0x90037000, 0x90037FFF]
[2024-03-04 09:35:58.472876636] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 632:
  *** INFO ***  |    VENTUS |  Allocating kernel arg buffer entry:
Warning: the memory at  [0x90038000, 0x90038027] has been realigned
to the 4 KiB page size: [0x90038000, 0x90038FFF]
[2024-03-04 09:35:58.494334969] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 686:
  *** INFO ***  |    VENTUS |  Kernel entry of "findK" is : "0x800000b8"
[2024-03-04 09:35:58.511515094] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 749:
  *** INFO ***  |    VENTUS |  Vmem file has been written to object.vmem
[2024-03-04 09:35:58.511710038] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 793:
  *** INFO ***  |    VENTUS |  Preparing private memory of ventus:
[2024-03-04 09:35:58.511722197] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 828:
  *** INFO ***  |    VENTUS |  Allocating metadata space:
Warning: the memory at  [0x902B9000, 0x902B903F] has been realigned
to the 4 KiB page size: [0x902B9000, 0x902B9FFF]
[2024-03-04 09:35:58.511731495] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 838:
  *** INFO ***  |    VENTUS |  kernel metadata has been written to 0x902b9000
-----OpenCL Compiler Output-----
--------------------------------
to allocate at 0x90000000 with 40960 bytes 
to copy to 0x90000000 with 40000 bytes
to allocate at 0x9000a000 with 172032 bytes 
to copy to 0x9000a000 with 171304 bytes
to allocate at 0x90034000 with 4096 bytes 
to copy to 0x90034000 with 80 bytes
to allocate at 0x90035000 with 4096 bytes 
to copy to 0x90035000 with 80 bytes
to allocate at 0x90036000 with 4096 bytes 
to copy to 0x90036000 with 40 bytes
to allocate at 0x90037000 with 4096 bytes 
to copy to 0x90037000 with 40 bytes
# of blocks = 10, # of threads/block = 64 (ensure that device can handle)
notice that ventus hasn't support local buffer as argument yet.
to allocate at 0x90038000 with 4096 bytes 
to copy to 0x90038000 with 40 bytes
to allocate at 0x90039000 with 2621440 bytes 
to allocate at 0x902b9000 with 4096 bytes 
to copy to 0x902b9000 with 64 bytes
arg gpgpu is numw:4,numt:16,numwg:10,kernelx:10,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90039000,knlbase:0x902b9000,currwgid:0
vaddr mem scope is -m0x70000000:0x902ba000
src file is object.riscv, run log is written to object.riscv.log
spike -l --log-commits -p40 --isa rv32gcv_zfh --pc=0x80000000 -m0x70000000:0x902ba000 --varch vlen:512,elen:32 --gpgpuarch numw:4,numt:16,numwg:10,kernelx:10,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90039000,knlbase:0x902b9000,currwgid:0 --log=object.riscv.log object.riscv 
Log file object.riscv.log renamed successfully to findK_0.log.
to copy from 0x90037000 with 40 bytes
Time spent in different stages of GPU_CUDA KERNEL:
Init: 316.595001
MemAlloc: 0.007000
HtoD: 0.503233
Exec: 143.680832
DtoH: 0.002518
Close: 0.114000
Total: 461.040985
> > > > > > > 
