** Final POCL_DEBUG flags: 100000 
WG size of kernel 1 = 64 WG size of kernel 2 = 64 
Input File: /data/eda/work/yangzx/ventus/gpu-rodinia/opencl/b+tree/../../data/b+tree/mil.txt 
Command File: /data/eda/work/yangzx/ventus/gpu-rodinia/opencl/b+tree/../../data/b+tree/command.txt 
Command Buffer: 
j 60 30
k 100


Getting input from file file...
Transforming data to a GPU suitable structure...
Tree transformation took 0.000280
Waiting for command
> 
******command: j count=60, rSize=60 
knodes_elem=322, knodes_unit_mem=532, knodes_mem=171304
Platform: The pocl project
[INFO]: [HW DRIVER] in [FILE] ventus.cpp,[LINE]25,[fn] vt_dev_open: vt_dev_open : hello world from ventus.cpp
spike device initialize: allocating local memory: to allocate at 0x70000000 with 268435456 bytes 
spike device initialize: allocating pc source memory: to allocate at 0x80000000 with 268435456 bytes 
Device num: 1
Creating GPU Context
Device: Ventus GPGPU device
### options: -DPOCL_DEVICE_ADDRESS_BITS=32 -D__USE_CLANG_OPENCL_C_H -xcl -Dinline= -I. -cl-kernel-arg-info -I./../ -DDEFAULT_ORDER_2=64 -D__ENDIAN_LITTLE__=1 -DCL_DEVICE_MAX_GLOBAL_VARIABLE_SIZE=0 -D__OPENCL_VERSION__=200 -cl-std=CL2.0 -D__OPENCL_C_VERSION__=200 -Dcl_khr_fp64=1 -D__opencl_c_generic_address_space=1 -D__opencl_c_named_address_space_builtins=1 -cl-ext=-all,+cl_khr_fp64,+__opencl_c_generic_address_space,+__opencl_c_named_address_space_builtins -fno-builtin -triple=riscv32 -target-cpu ventus-gpgpu user_options: -I./../ -DDEFAULT_ORDER_2=64
### Triple: riscv32, CPU: ventus-gpgpu
Warning: the memory at  [0x90000000, 0x90029D27] has been realigned
to the 4 KiB page size: [0x90000000, 0x90029FFF]
Warning: the memory at  [0x9002A000, 0x9002A1DF] has been realigned
to the 4 KiB page size: [0x9002A000, 0x9002AFFF]
Warning: the memory at  [0x9002B000, 0x9002B1DF] has been realigned
to the 4 KiB page size: [0x9002B000, 0x9002BFFF]
Warning: the memory at  [0x9002C000, 0x9002C1DF] has been realigned
to the 4 KiB page size: [0x9002C000, 0x9002CFFF]
Warning: the memory at  [0x9002D000, 0x9002D1DF] has been realigned
to the 4 KiB page size: [0x9002D000, 0x9002DFFF]
Warning: the memory at  [0x9002E000, 0x9002E0EF] has been realigned
to the 4 KiB page size: [0x9002E000, 0x9002EFFF]
Warning: the memory at  [0x9002F000, 0x9002F0EF] has been realigned
to the 4 KiB page size: [0x9002F000, 0x9002FFFF]
Warning: the memory at  [0x90030000, 0x900300EF] has been realigned
to the 4 KiB page size: [0x90030000, 0x90030FFF]
Warning: the memory at  [0x90031000, 0x900310EF] has been realigned
to the 4 KiB page size: [0x90031000, 0x90031FFF]
[2024-03-01 08:53:15.222425716] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 632:
  *** INFO ***  |    VENTUS |  Allocating kernel arg buffer entry:
Warning: the memory at  [0x90032000, 0x90032033] has been realigned
to the 4 KiB page size: [0x90032000, 0x90032FFF]
[2024-03-01 08:53:15.242907190] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 686:
  *** INFO ***  |    VENTUS |  Kernel entry of "findRangeK" is : "0x800000b8"
[2024-03-01 08:53:15.256472429] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 749:
  *** INFO ***  |    VENTUS |  Vmem file has been written to object.vmem
[2024-03-01 08:53:15.256742938] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 793:
  *** INFO ***  |    VENTUS |  Preparing private memory of ventus:
[2024-03-01 08:53:15.256751757] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 828:
  *** INFO ***  |    VENTUS |  Allocating metadata space:
Warning: the memory at  [0x90F33000, 0x90F3303F] has been realigned
to the 4 KiB page size: [0x90F33000, 0x90F33FFF]
[2024-03-01 08:53:15.256759631] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 838:
  *** INFO ***  |    VENTUS |  kernel metadata has been written to 0x90f33000
-----OpenCL Compiler Output-----
--------------------------------
to allocate at 0x90000000 with 172032 bytes 
to copy to 0x90000000 with 171304 bytes
to allocate at 0x9002a000 with 4096 bytes 
to copy to 0x9002a000 with 480 bytes
to allocate at 0x9002b000 with 4096 bytes 
to copy to 0x9002b000 with 480 bytes
to allocate at 0x9002c000 with 4096 bytes 
to copy to 0x9002c000 with 480 bytes
to allocate at 0x9002d000 with 4096 bytes 
to copy to 0x9002d000 with 480 bytes
to allocate at 0x9002e000 with 4096 bytes 
to copy to 0x9002e000 with 240 bytes
to allocate at 0x9002f000 with 4096 bytes 
to copy to 0x9002f000 with 240 bytes
to copy to 0x9002f000 with 240 bytes
to allocate at 0x90030000 with 4096 bytes 
to copy to 0x90030000 with 240 bytes
# of blocks = 60, # of threads/block = 64 (ensure that device can handle)
to allocate at 0x90031000 with 4096 bytes 
notice that ventus hasn't support local buffer as argument yet.
to allocate at 0x90032000 with 4096 bytes 
to copy to 0x90032000 with 52 bytes
to allocate at 0x90033000 with 15728640 bytes 
to allocate at 0x90f33000 with 4096 bytes 
to copy to 0x90f33000 with 64 bytes
arg gpgpu is numw:8,numt:8,numwg:60,kernelx:60,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90033000,knlbase:0x90f33000,currwgid:0
vaddr mem scope is -m0x70000000:0x90f34000
src file is object.riscv, run log is written to object.riscv.log
spike -l --log-commits -p480 --isa rv32gcv_zfh --pc=0x80000000 -m0x70000000:0x90f34000 --varch vlen:256,elen:32 --gpgpuarch numw:8,numt:8,numwg:60,kernelx:60,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90033000,knlbase:0x90f33000,currwgid:0 --log=object.riscv.log object.riscv 
Log file object.riscv.log renamed successfully to findRangeK_0.log.
to copy from 0x90031000 with 240 bytes
to copy from 0x90030000 with 240 bytes
Time spent in different stages of GPU_CUDA KERNEL:
Init: 383.636993
MemAlloc: 0.010000
HtoD: 0.113418
Exec: 1172.740356
DtoH: 0.010243
Close: 0.300000
Total: 1557.006958
> > > > > > > > 
 ******command: k count=100 
records_elem=10000, records_unit_mem=4, records_mem=40000
knodes_elem=322, knodes_unit_mem=532, knodes_mem=171304
Platform: The pocl project
Device num: 1
Creating GPU Context
Device: Ventus GPGPU device
### options: -DPOCL_DEVICE_ADDRESS_BITS=32 -D__USE_CLANG_OPENCL_C_H -xcl -Dinline= -I. -cl-kernel-arg-info -I./../ -DDEFAULT_ORDER=64 -D__ENDIAN_LITTLE__=1 -DCL_DEVICE_MAX_GLOBAL_VARIABLE_SIZE=0 -D__OPENCL_VERSION__=200 -cl-std=CL2.0 -D__OPENCL_C_VERSION__=200 -Dcl_khr_fp64=1 -D__opencl_c_generic_address_space=1 -D__opencl_c_named_address_space_builtins=1 -cl-ext=-all,+cl_khr_fp64,+__opencl_c_generic_address_space,+__opencl_c_named_address_space_builtins -fno-builtin -triple=riscv32 -target-cpu ventus-gpgpu user_options: -I./../ -DDEFAULT_ORDER=64
### Triple: riscv32, CPU: ventus-gpgpu
Warning: the memory at  [0x90000000, 0x90009C3F] has been realigned
to the 4 KiB page size: [0x90000000, 0x90009FFF]
Warning: the memory at  [0x9000A000, 0x90033D27] has been realigned
to the 4 KiB page size: [0x9000A000, 0x90033FFF]
Warning: the memory at  [0x90034000, 0x9003431F] has been realigned
to the 4 KiB page size: [0x90034000, 0x90034FFF]
Warning: the memory at  [0x90035000, 0x9003531F] has been realigned
to the 4 KiB page size: [0x90035000, 0x90035FFF]
Warning: the memory at  [0x90036000, 0x9003631F] has been realigned
to the 4 KiB page size: [0x90036000, 0x90036FFF]
Warning: the memory at  [0x90037000, 0x9003718F] has been realigned
to the 4 KiB page size: [0x90037000, 0x90037FFF]
[2024-03-01 08:53:16.738814299] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 632:
  *** INFO ***  |    VENTUS |  Allocating kernel arg buffer entry:
Warning: the memory at  [0x90038000, 0x90038027] has been realigned
to the 4 KiB page size: [0x90038000, 0x90038FFF]
[2024-03-01 08:53:16.782656923] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 686:
  *** INFO ***  |    VENTUS |  Kernel entry of "findK" is : "0x800000b8"
[2024-03-01 08:53:16.798092164] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 749:
  *** INFO ***  |    VENTUS |  Vmem file has been written to object.vmem
[2024-03-01 08:53:16.798318110] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 793:
  *** INFO ***  |    VENTUS |  Preparing private memory of ventus:
[2024-03-01 08:53:16.798327781] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 828:
  *** INFO ***  |    VENTUS |  Allocating metadata space:
Warning: the memory at  [0x91939000, 0x9193903F] has been realigned
to the 4 KiB page size: [0x91939000, 0x91939FFF]
[2024-03-01 08:53:16.798334955] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 838:
  *** INFO ***  |    VENTUS |  kernel metadata has been written to 0x91939000
-----OpenCL Compiler Output-----
--------------------------------
to allocate at 0x90000000 with 40960 bytes 
to copy to 0x90000000 with 40000 bytes
to allocate at 0x9000a000 with 172032 bytes 
to copy to 0x9000a000 with 171304 bytes
to allocate at 0x90034000 with 4096 bytes 
to copy to 0x90034000 with 800 bytes
to allocate at 0x90035000 with 4096 bytes 
to copy to 0x90035000 with 800 bytes
to allocate at 0x90036000 with 4096 bytes 
to copy to 0x90036000 with 400 bytes
to allocate at 0x90037000 with 4096 bytes 
to copy to 0x90037000 with 400 bytes
# of blocks = 100, # of threads/block = 64 (ensure that device can handle)
notice that ventus hasn't support local buffer as argument yet.
to allocate at 0x90038000 with 4096 bytes 
to copy to 0x90038000 with 40 bytes
to allocate at 0x90039000 with 26214400 bytes 
to allocate at 0x91939000 with 4096 bytes 
to copy to 0x91939000 with 64 bytes
arg gpgpu is numw:8,numt:8,numwg:100,kernelx:100,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90039000,knlbase:0x91939000,currwgid:0
vaddr mem scope is -m0x70000000:0x9193a000
src file is object.riscv, run log is written to object.riscv.log
spike -l --log-commits -p800 --isa rv32gcv_zfh --pc=0x80000000 -m0x70000000:0x9193a000 --varch vlen:256,elen:32 --gpgpuarch numw:8,numt:8,numwg:100,kernelx:100,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90039000,knlbase:0x91939000,currwgid:0 --log=object.riscv.log object.riscv 
Log file object.riscv.log renamed successfully to findK_0.log.
to copy from 0x90037000 with 400 bytes
Time spent in different stages of GPU_CUDA KERNEL:
Init: 342.156006
MemAlloc: 0.006000
HtoD: 0.115805
Exec: 1716.252441
DtoH: 0.003356
Close: 0.185000
Total: 2058.927002
> > > > > > > > 
