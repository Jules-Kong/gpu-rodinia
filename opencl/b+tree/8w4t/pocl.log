** Final POCL_DEBUG flags: 100000 
WG size of kernel 1 = 32 WG size of kernel 2 = 32 
Input File: /data/eda/work/yangzx/ventus/gpu-rodinia/opencl/b+tree/../../data/b+tree/mil.txt 
Command File: /data/eda/work/yangzx/ventus/gpu-rodinia/opencl/b+tree/../../data/b+tree/command.txt 
Command Buffer: 
j 6 3
k 10


Getting input from file file...
Transforming data to a GPU suitable structure...
Tree transformation took 0.000683
Waiting for command
> 
******command: j count=6, rSize=6 
knodes_elem=667, knodes_unit_mem=276, knodes_mem=184092
Platform: The pocl project
[INFO]: [HW DRIVER] in [FILE] ventus.cpp,[LINE]25,[fn] vt_dev_open: vt_dev_open : hello world from ventus.cpp
spike device initialize: allocating local memory: to allocate at 0x70000000 with 268435456 bytes 
spike device initialize: allocating pc source memory: to allocate at 0x80000000 with 268435456 bytes 
Device num: 1
Creating GPU Context
Device: Ventus GPGPU device
### options: -DPOCL_DEVICE_ADDRESS_BITS=32 -D__USE_CLANG_OPENCL_C_H -xcl -Dinline= -I. -cl-kernel-arg-info -I./../ -DDEFAULT_ORDER_2=32 -D__ENDIAN_LITTLE__=1 -DCL_DEVICE_MAX_GLOBAL_VARIABLE_SIZE=0 -D__OPENCL_VERSION__=200 -cl-std=CL2.0 -D__OPENCL_C_VERSION__=200 -Dcl_khr_fp64=1 -D__opencl_c_generic_address_space=1 -D__opencl_c_named_address_space_builtins=1 -cl-ext=-all,+cl_khr_fp64,+__opencl_c_generic_address_space,+__opencl_c_named_address_space_builtins -fno-builtin -triple=riscv32 -target-cpu ventus-gpgpu user_options: -I./../ -DDEFAULT_ORDER_2=32
### Triple: riscv32, CPU: ventus-gpgpu
Warning: the memory at  [0x90000000, 0x9002CF1B] has been realigned
to the 4 KiB page size: [0x90000000, 0x9002CFFF]
Warning: the memory at  [0x9002D000, 0x9002D02F] has been realigned
to the 4 KiB page size: [0x9002D000, 0x9002DFFF]
Warning: the memory at  [0x9002E000, 0x9002E02F] has been realigned
to the 4 KiB page size: [0x9002E000, 0x9002EFFF]
Warning: the memory at  [0x9002F000, 0x9002F02F] has been realigned
to the 4 KiB page size: [0x9002F000, 0x9002FFFF]
Warning: the memory at  [0x90030000, 0x9003002F] has been realigned
to the 4 KiB page size: [0x90030000, 0x90030FFF]
Warning: the memory at  [0x90031000, 0x90031017] has been realigned
to the 4 KiB page size: [0x90031000, 0x90031FFF]
Warning: the memory at  [0x90032000, 0x90032017] has been realigned
to the 4 KiB page size: [0x90032000, 0x90032FFF]
Warning: the memory at  [0x90033000, 0x90033017] has been realigned
to the 4 KiB page size: [0x90033000, 0x90033FFF]
Warning: the memory at  [0x90034000, 0x90034017] has been realigned
to the 4 KiB page size: [0x90034000, 0x90034FFF]
[2024-03-04 09:31:01.934148292] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 632:
  *** INFO ***  |    VENTUS |  Allocating kernel arg buffer entry:
Warning: the memory at  [0x90035000, 0x90035033] has been realigned
to the 4 KiB page size: [0x90035000, 0x90035FFF]
[2024-03-04 09:31:01.955496924] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 686:
  *** INFO ***  |    VENTUS |  Kernel entry of "findRangeK" is : "0x800000b8"
[2024-03-04 09:31:01.969767755] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 749:
  *** INFO ***  |    VENTUS |  Vmem file has been written to object.vmem
[2024-03-04 09:31:01.970042516] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 793:
  *** INFO ***  |    VENTUS |  Preparing private memory of ventus:
[2024-03-04 09:31:01.970051538] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 828:
  *** INFO ***  |    VENTUS |  Allocating metadata space:
Warning: the memory at  [0x900F6000, 0x900F603F] has been realigned
to the 4 KiB page size: [0x900F6000, 0x900F6FFF]
[2024-03-04 09:31:01.970059255] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 838:
  *** INFO ***  |    VENTUS |  kernel metadata has been written to 0x900f6000
-----OpenCL Compiler Output-----
--------------------------------
to allocate at 0x90000000 with 184320 bytes 
to copy to 0x90000000 with 184092 bytes
to allocate at 0x9002d000 with 4096 bytes 
to copy to 0x9002d000 with 48 bytes
to allocate at 0x9002e000 with 4096 bytes 
to copy to 0x9002e000 with 48 bytes
to allocate at 0x9002f000 with 4096 bytes 
to copy to 0x9002f000 with 48 bytes
to allocate at 0x90030000 with 4096 bytes 
to copy to 0x90030000 with 48 bytes
to allocate at 0x90031000 with 4096 bytes 
to copy to 0x90031000 with 24 bytes
to allocate at 0x90032000 with 4096 bytes 
to copy to 0x90032000 with 24 bytes
to copy to 0x90032000 with 24 bytes
to allocate at 0x90033000 with 4096 bytes 
to copy to 0x90033000 with 24 bytes
# of blocks = 6, # of threads/block = 32 (ensure that device can handle)
to allocate at 0x90034000 with 4096 bytes 
notice that ventus hasn't support local buffer as argument yet.
to allocate at 0x90035000 with 4096 bytes 
to copy to 0x90035000 with 52 bytes
to allocate at 0x90036000 with 786432 bytes 
to allocate at 0x900f6000 with 4096 bytes 
to copy to 0x900f6000 with 64 bytes
arg gpgpu is numw:8,numt:4,numwg:6,kernelx:6,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90036000,knlbase:0x900f6000,currwgid:0
vaddr mem scope is -m0x70000000:0x900f7000
src file is object.riscv, run log is written to object.riscv.log
spike -l --log-commits -p48 --isa rv32gcv_zfh --pc=0x80000000 -m0x70000000:0x900f7000 --varch vlen:128,elen:32 --gpgpuarch numw:8,numt:4,numwg:6,kernelx:6,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x90036000,knlbase:0x900f6000,currwgid:0 --log=object.riscv.log object.riscv 
Log file object.riscv.log renamed successfully to findRangeK_0.log.
to copy from 0x90034000 with 24 bytes
to copy from 0x90033000 with 24 bytes
Time spent in different stages of GPU_CUDA KERNEL:
Init: 362.170013
MemAlloc: 0.009000
HtoD: 0.102934
Exec: 160.504044
DtoH: 0.007518
Close: 0.201000
Total: 523.125977
> > > > > > 
 ******command: k count=10 
records_elem=10000, records_unit_mem=4, records_mem=40000
knodes_elem=667, knodes_unit_mem=276, knodes_mem=184092
Platform: The pocl project
Device num: 1
Creating GPU Context
Device: Ventus GPGPU device
### options: -DPOCL_DEVICE_ADDRESS_BITS=32 -D__USE_CLANG_OPENCL_C_H -xcl -Dinline= -I. -cl-kernel-arg-info -I./../ -DDEFAULT_ORDER=32 -D__ENDIAN_LITTLE__=1 -DCL_DEVICE_MAX_GLOBAL_VARIABLE_SIZE=0 -D__OPENCL_VERSION__=200 -cl-std=CL2.0 -D__OPENCL_C_VERSION__=200 -Dcl_khr_fp64=1 -D__opencl_c_generic_address_space=1 -D__opencl_c_named_address_space_builtins=1 -cl-ext=-all,+cl_khr_fp64,+__opencl_c_generic_address_space,+__opencl_c_named_address_space_builtins -fno-builtin -triple=riscv32 -target-cpu ventus-gpgpu user_options: -I./../ -DDEFAULT_ORDER=32
### Triple: riscv32, CPU: ventus-gpgpu
Warning: the memory at  [0x90000000, 0x90009C3F] has been realigned
to the 4 KiB page size: [0x90000000, 0x90009FFF]
Warning: the memory at  [0x9000A000, 0x90036F1B] has been realigned
to the 4 KiB page size: [0x9000A000, 0x90036FFF]
Warning: the memory at  [0x90037000, 0x9003704F] has been realigned
to the 4 KiB page size: [0x90037000, 0x90037FFF]
Warning: the memory at  [0x90038000, 0x9003804F] has been realigned
to the 4 KiB page size: [0x90038000, 0x90038FFF]
Warning: the memory at  [0x90039000, 0x9003904F] has been realigned
to the 4 KiB page size: [0x90039000, 0x90039FFF]
Warning: the memory at  [0x9003A000, 0x9003A027] has been realigned
to the 4 KiB page size: [0x9003A000, 0x9003AFFF]
[2024-03-04 09:31:02.408559900] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 632:
  *** INFO ***  |    VENTUS |  Allocating kernel arg buffer entry:
Warning: the memory at  [0x9003B000, 0x9003B027] has been realigned
to the 4 KiB page size: [0x9003B000, 0x9003BFFF]
[2024-03-04 09:31:02.446282369] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 686:
  *** INFO ***  |    VENTUS |  Kernel entry of "findK" is : "0x800000b8"
[2024-03-04 09:31:02.459870381] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 749:
  *** INFO ***  |    VENTUS |  Vmem file has been written to object.vmem
[2024-03-04 09:31:02.460066262] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 793:
  *** INFO ***  |    VENTUS |  Preparing private memory of ventus:
[2024-03-04 09:31:02.460075665] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 828:
  *** INFO ***  |    VENTUS |  Allocating metadata space:
Warning: the memory at  [0x9017C000, 0x9017C03F] has been realigned
to the 4 KiB page size: [0x9017C000, 0x9017CFFF]
[2024-03-04 09:31:02.460082505] POCL: in fn void pocl_ventus_run(void *, _cl_command_node *) at line 838:
  *** INFO ***  |    VENTUS |  kernel metadata has been written to 0x9017c000
-----OpenCL Compiler Output-----
--------------------------------
to allocate at 0x90000000 with 40960 bytes 
to copy to 0x90000000 with 40000 bytes
to allocate at 0x9000a000 with 184320 bytes 
to copy to 0x9000a000 with 184092 bytes
to allocate at 0x90037000 with 4096 bytes 
to copy to 0x90037000 with 80 bytes
to allocate at 0x90038000 with 4096 bytes 
to copy to 0x90038000 with 80 bytes
to allocate at 0x90039000 with 4096 bytes 
to copy to 0x90039000 with 40 bytes
to allocate at 0x9003a000 with 4096 bytes 
to copy to 0x9003a000 with 40 bytes
# of blocks = 10, # of threads/block = 32 (ensure that device can handle)
notice that ventus hasn't support local buffer as argument yet.
to allocate at 0x9003b000 with 4096 bytes 
to copy to 0x9003b000 with 40 bytes
to allocate at 0x9003c000 with 1310720 bytes 
to allocate at 0x9017c000 with 4096 bytes 
to copy to 0x9017c000 with 64 bytes
arg gpgpu is numw:8,numt:4,numwg:10,kernelx:10,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x9003c000,knlbase:0x9017c000,currwgid:0
vaddr mem scope is -m0x70000000:0x9017d000
src file is object.riscv, run log is written to object.riscv.log
spike -l --log-commits -p80 --isa rv32gcv_zfh --pc=0x80000000 -m0x70000000:0x9017d000 --varch vlen:128,elen:32 --gpgpuarch numw:8,numt:4,numwg:10,kernelx:10,kernely:1,kernelz:1,ldssize:0x1000,pdssize:0x10000000,pdsbase:0x9003c000,knlbase:0x9017c000,currwgid:0 --log=object.riscv.log object.riscv 
Log file object.riscv.log renamed successfully to findK_0.log.
to copy from 0x9003a000 with 40 bytes
Time spent in different stages of GPU_CUDA KERNEL:
Init: 312.501007
MemAlloc: 0.007000
HtoD: 0.173072
Exec: 248.374985
DtoH: 0.002790
Close: 0.130000
Total: 561.307983
> > > > > > > 
